{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\piotr\\\\Desktop\\\\studia\\\\szkielety\\\\client\\\\clientrip\\\\src\\\\components\\\\Paymentsummary\\\\Paymentsummary.js\";\nimport TopMenu from \"../TopMenu/TopMenu\";\nimport React, { Component } from \"react\";\nimport \"./paymentsummary.css\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass Paymentsummary extends Component {\n  constructor(props) {\n    super(props);\n    this.componentDidMount = async () => {\n      var intencion = localStorage.getItem(\"Intention\");\n      var Payment_id = localStorage.getItem(\"Payment_id\");\n      var amount = localStorage.getItem(\"Amount\");\n      var mass = localStorage.getItem(\"Mass\");\n      var massscribe = localStorage.getItem(\"MassScribe\").replace(\"Msza\", \"mszę\").replace(\"godzina\", \"godzinę\");\n      var textintens = localStorage.getItem(\"Textintens\");\n      if (intencion != null && Payment_id != null && amount != null && mass != null && massscribe != null && textintens != null) {\n        this.setState({\n          intencion: intencion,\n          Payment_id: Payment_id,\n          amount: amount,\n          mass: mass,\n          massscribe: massscribe,\n          textintens: textintens\n        });\n      }\n    };\n    this.handleEdit = async () => {\n      alert(\"progress implementacio\");\n    };\n    this.handleCancel = async () => {\n      var {\n        mass,\n        intencion,\n        Payment_id\n      } = this.state;\n      //dodać potwierdzenie\n      var config = {\n        method: 'post',\n        url: this.props.store.backendadress + '/inten/cancel',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        data: {\n          \"Payment_id\": Payment_id,\n          \"Intencion_id\": intencion,\n          \"Mass\": mass\n        }\n      };\n      // console.log(config.data);\n\n      await axios(config).then(response => {\n        if (response.status == 200) {\n          this.setState({\n            notyficacion: response.data\n          });\n          document.getElementById(\"notyficacion\").style.background = \"green\"; //\"#88e988\";\n          document.getElementById(\"notyficacion\").style.visibility = \"visible\";\n          console.log(response.data);\n          localStorage.setItem(\"Payment_id\");\n          localStorage.setItem(\"Intention\");\n          localStorage.removeItem(\"Amount\");\n          localStorage.removeItem(\"Mass\");\n          localStorage.removeItem(\"MassScribe\");\n          localStorage.removeItem(\"Textintens\");\n          setTimeout(() => {\n            console.log(\"Delayed for 1 second.\");\n            window.location = \"/\";\n          }, 2000);\n        } else {\n          document.getElementById(\"notyficacion\").style.background = \"#e38989\";\n          document.getElementById(\"notyficacion\").style.visibility = \"visible\";\n          this.setState({\n            notyficacion: \"Coś poszło spróbuj za chwile.\" + response.data + \"Jeżeli się nie uda skontaktuj sie z administartorem aplikacji\"\n          });\n        }\n      });\n    };\n    this.handleOrder = async () => {\n      var {\n        amount,\n        Payment_id\n      } = this.state;\n      var User_id = localStorage.getItem(\"id\");\n      var config = {\n        method: 'post',\n        url: this.props.store.backendadress + '/payment/paypaymant',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        data: {\n          \"Payment_id\": Payment_id,\n          \"User_id\": User_id,\n          \"Amount\": amount\n        }\n      };\n      console.log(config.data);\n      await axios(config).then(response => {\n        //console.log(response.data);\n        localStorage.removeItem(\"Amount\");\n        localStorage.removeItem(\"Mass\");\n        localStorage.removeItem(\"MassScribe\");\n        localStorage.removeItem(\"Textintens\");\n        window.location = response.data;\n      });\n    };\n    this.state = {\n      intencion: String,\n      Payment_id: String,\n      amount: Number,\n      mass: String,\n      massscribe: String,\n      textintens: String,\n      notyficacion: String\n    };\n    this.handleOrder = this.handleOrder.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n  }\n  //ReactDOM.render()\n\n  render() {\n    var {\n      amount,\n      massscribe,\n      textintens,\n      notyficacion\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(TopMenu, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"kontentpaymentsummary\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"headersummary\",\n          children: \"Podsumowanie zg\\u0142aszanej intencji\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fieldsummary\",\n          children: [\"Intencja zamawiana na \", massscribe]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fieldsummary\",\n          children: [\"Tre\\u015B\\u0107 Twojej intencji: \", textintens]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fieldsummary\",\n          children: [\"Twoja ofiara:\", amount, \"z\\u0142.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"intencionbutton \",\n          onClick: this.handleOrder,\n          children: \"Zg\\u0142o\\u015B swoj\\u0105 intencj\\u0119 i dokonaj ofiary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"intencionbutton \",\n          onClick: this.handleEdit,\n          children: \"Edytuj swoj\\u0105 intencj\\u0119\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"intencionbutton \",\n          onClick: this.handleCancel,\n          children: \"Anuluj zg\\u0142aszanie swojej intencji\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"notyfication\",\n          className: \"notyfication\",\n          children: \"notyficacion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n}\nexport default Paymentsummary;","map":{"version":3,"names":["TopMenu","React","Component","axios","Paymentsummary","constructor","props","componentDidMount","intencion","localStorage","getItem","Payment_id","amount","mass","massscribe","replace","textintens","setState","handleEdit","alert","handleCancel","state","config","method","url","store","backendadress","headers","data","then","response","status","notyficacion","document","getElementById","style","background","visibility","console","log","setItem","removeItem","setTimeout","window","location","handleOrder","User_id","String","Number","bind","render"],"sources":["C:/Users/piotr/Desktop/studia/szkielety/client/clientrip/src/components/Paymentsummary/Paymentsummary.js"],"sourcesContent":["import TopMenu from \"../TopMenu/TopMenu\"\r\nimport React, { Component } from \"react\";\r\nimport \"./paymentsummary.css\"\r\nimport axios from \"axios\";\r\n\r\nclass Paymentsummary extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            intencion: String,\r\n            Payment_id: String,\r\n            amount: Number,\r\n            mass: String,\r\n            massscribe: String,\r\n            textintens: String,\r\n            notyficacion: String\r\n        }\r\n        this.handleOrder = this.handleOrder.bind(this);\r\n        this.handleEdit = this.handleEdit.bind(this);\r\n        this.handleCancel = this.handleCancel.bind(this);\r\n\r\n    }\r\n    //ReactDOM.render()\r\n    componentDidMount = async () => {\r\n\r\n        var intencion = localStorage.getItem(\"Intention\");\r\n        var Payment_id = localStorage.getItem(\"Payment_id\");\r\n        var amount = localStorage.getItem(\"Amount\");\r\n        var mass = localStorage.getItem(\"Mass\");\r\n        var massscribe = localStorage.getItem(\"MassScribe\").replace(\"Msza\", \"mszę\").replace(\"godzina\", \"godzinę\");\r\n        var textintens = localStorage.getItem(\"Textintens\");\r\n        if (intencion != null && Payment_id != null && amount != null && mass != null && massscribe != null && textintens != null) {\r\n            this.setState({\r\n                intencion: intencion,\r\n                Payment_id: Payment_id,\r\n                amount: amount,\r\n                mass: mass,\r\n                massscribe: massscribe,\r\n                textintens: textintens\r\n            })\r\n        }\r\n    }\r\n    handleEdit = async () => {\r\n        alert(\"progress implementacio\");\r\n    }\r\n    handleCancel = async () => {\r\n        var { mass, intencion, Payment_id } = this.state;\r\n        //dodać potwierdzenie\r\n        var config = {\r\n            method: 'post',\r\n            url: this.props.store.backendadress + '/inten/cancel',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n\r\n            data: {\r\n                \"Payment_id\": Payment_id,\r\n                \"Intencion_id\": intencion,\r\n                \"Mass\": mass\r\n\r\n            }\r\n        };\r\n        // console.log(config.data);\r\n\r\n        await axios(config)\r\n            .then(response => {\r\n                if (response.status == 200) {\r\n                    this.setState({ notyficacion: response.data });\r\n                    document.getElementById(\"notyficacion\").style.background =\"green\"; //\"#88e988\";\r\n                    document.getElementById(\"notyficacion\").style.visibility = \"visible\";\r\n                    console.log(response.data);\r\n                    localStorage.setItem(\"Payment_id\");\r\n                    localStorage.setItem(\"Intention\");\r\n                    localStorage.removeItem(\"Amount\");\r\n                    localStorage.removeItem(\"Mass\");\r\n                    localStorage.removeItem(\"MassScribe\");\r\n                    localStorage.removeItem(\"Textintens\");\r\n                    setTimeout(() => {\r\n                        console.log(\"Delayed for 1 second.\");\r\n                        window.location = \"/\";\r\n                    }, 2000)\r\n\r\n\r\n                } else {\r\n                    document.getElementById(\"notyficacion\").style.background = \"#e38989\";\r\n                    document.getElementById(\"notyficacion\").style.visibility = \"visible\";\r\n                    this.setState({ notyficacion: \"Coś poszło spróbuj za chwile.\" + response.data + \"Jeżeli się nie uda skontaktuj sie z administartorem aplikacji\" });\r\n                }\r\n\r\n\r\n            })\r\n    }\r\n    handleOrder = async () => {\r\n\r\n        var { amount, Payment_id } = this.state;\r\n        var User_id = localStorage.getItem(\"id\");\r\n\r\n\r\n        var config = {\r\n            method: 'post',\r\n            url: this.props.store.backendadress + '/payment/paypaymant',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n\r\n            data: {\r\n                \"Payment_id\": Payment_id,\r\n                \"User_id\": User_id,\r\n                \"Amount\": amount\r\n            }\r\n        };\r\n        console.log(config.data);\r\n\r\n        await axios(config)\r\n            .then(response => {\r\n                //console.log(response.data);\r\n                localStorage.removeItem(\"Amount\");\r\n                localStorage.removeItem(\"Mass\");\r\n                localStorage.removeItem(\"MassScribe\");\r\n                localStorage.removeItem(\"Textintens\");\r\n                window.location = response.data;\r\n\r\n            })\r\n    }\r\n    render() {\r\n        var { amount, massscribe, textintens, notyficacion } = this.state\r\n        return (\r\n            <>\r\n                <TopMenu />\r\n                <div className=\"kontentpaymentsummary\" >\r\n                    <div className=\"headersummary\">Podsumowanie zgłaszanej intencji</div>\r\n                    <div className=\"fieldsummary\">Intencja zamawiana na {massscribe}</div>\r\n                    <div className=\"fieldsummary\">Treść Twojej intencji: {textintens}</div>\r\n                    <div className=\"fieldsummary\">Twoja ofiara:{amount}zł.</div>\r\n                    <button className=\"intencionbutton \" onClick={this.handleOrder}>Zgłoś swoją intencję i dokonaj ofiary</button>\r\n                    <button className=\"intencionbutton \" onClick={this.handleEdit}>Edytuj swoją intencję</button>\r\n                    <button className=\"intencionbutton \" onClick={this.handleCancel}>Anuluj zgłaszanie swojej intencji</button>\r\n                    <div id=\"notyfication\" className=\"notyfication\">notyficacion</div>\r\n                </div>\r\n            </>\r\n\r\n        )\r\n\r\n    }\r\n\r\n}\r\nexport default Paymentsummary"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}