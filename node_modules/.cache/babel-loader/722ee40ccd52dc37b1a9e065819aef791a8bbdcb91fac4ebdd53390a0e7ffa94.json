{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/piotr/Desktop/studia/szkielety/client/clientrip/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/piotr/Desktop/studia/szkielety/client/clientrip/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/piotr/Desktop/studia/szkielety/client/clientrip/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"C:/Users/piotr/Desktop/studia/szkielety/client/clientrip/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/piotr/Desktop/studia/szkielety/client/clientrip/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/piotr/Desktop/studia/szkielety/client/clientrip/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/piotr/Desktop/studia/szkielety/client/clientrip/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/piotr/Desktop/studia/szkielety/client/clientrip/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import axios from\"axios\";import{Link}from\"react-router-dom\";import\"./Login.css\";import serverurl from\"../../reduser/store\";import React,{Component}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleChange=function(name,value){console.log(\"zmiana\");console.log(value);console.log(name);_this.setState(_defineProperty({},name,value));};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var _this$state,email,password,self,url;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://console.log(\"event\");\n_this$state=_this.state,email=_this$state.email,password=_this$state.password;self=_assertThisInitialized(_this);// console.log(email+\" \"+password);\nurl=_this.props.store.backendadress+\"/auth\";axios.post(url,{email:email,password:password}).then(function(response){// console.log(response)\nlocalStorage.setItem(\"token\",response.token);localStorage.setItem(\"id\",response.id);// console.log(response.data);\nwindow.location=\"/\";}).catch(function(error){if(error.response.status===401){self.setState({error:error.response.data.message});}else if(error.response&&error.response.status>=400&&error.response.status<=500){self.setState({error:\"Coś poszło nie tak spróbój za chwile\"});}});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={email:\"\",password:\"\",error:\"\"};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}//\n_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;var error=this.state.error;return/*#__PURE__*/_jsx(\"div\",{className:\"login_container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login_form_container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form_container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Logowanie\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",name:\"email\",onChange:function onChange(e){_this2.handleChange(e.target.name,e.target.value);},required:true,className:\"input\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Has\\u0142o\",name:\"password\",onChange:function onChange(e){_this2.handleChange(e.target.name,e.target.value);},required:true,className:\"input\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error_msg\",children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"green_btn\",onClick:this.handleSubmit,children:\"Zaloguj si\\u0119\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Nie masz konta?\"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"white_btn\",children:\"Zarejestruj si\\u0119\"})})]})]})});}}]);return Login;}(Component);export default Login;","map":{"version":3,"names":["axios","Link","serverurl","React","Component","Login","props","handleChange","name","value","console","log","setState","handleSubmit","e","state","email","password","self","url","store","backendadress","post","then","response","localStorage","setItem","token","id","window","location","catch","error","status","data","message","bind","target"],"sources":["C:/Users/piotr/Desktop/studia/szkielety/client/clientrip/src/components/Login/Login.js"],"sourcesContent":["import axios from \"axios\"\r\nimport { Link } from \"react-router-dom\"\r\nimport \"./Login.css\"\r\nimport serverurl from \"../../reduser/store\"\r\nimport React, { Component } from \"react\";\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\",\r\n            error: \"\"\r\n        }\r\n    \r\n    this.handleChange= this.handleChange.bind(this);\r\n    this.handleSubmit= this.handleSubmit.bind(this);\r\n}\r\n    \r\n    //\r\n    handleChange = (name,value) => {\r\n      console.log(\"zmiana\");\r\n      console.log(value);\r\n      console.log(name);\r\n  \r\n        this.setState({[name]: value });\r\n    };\r\n    //logowanie\r\n\r\n    handleSubmit = async (e) =>{\r\n        //console.log(\"event\");\r\n        var { email, password} = this.state;\r\n        var self=this;\r\n       // console.log(email+\" \"+password);\r\n        \r\n       \r\n            const url = this.props.store.backendadress + \"/auth\"\r\n            axios.post(url, {email:email,password:password})\r\n            .then(response=>{\r\n               // console.log(response)\r\n                localStorage.setItem(\"token\", response.token)\r\n            localStorage.setItem(\"id\", response.id)\r\n           // console.log(response.data);\r\n            window.location = \"/\"\r\n            })            \r\n            .catch(function (error) {\r\n              \r\n            if(error.response.status===401)\r\n                 {\r\n                    self.setState({error: error.response.data.message});\r\n                    \r\n                    \r\n            }else if (\r\n                error.response &&\r\n                error.response.status >= 400 &&\r\n                error.response.status <= 500\r\n            ) \r\n            {\r\n                self.setState({error: \"Coś poszło nie tak spróbój za chwile\" });\r\n            }\r\n            \r\n        })\r\n        \r\n    }\r\n\r\n    render() {\r\n\r\n        const { error } = this.state;\r\n\r\n\r\n\r\n\r\n\r\n        return (\r\n            <div className=\"login_container\">\r\n                <div className=\"login_form_container\">\r\n                    <div className=\"left\">\r\n                        <div className=\"form_container\"\r\n                            >\r\n                            <h1>Logowanie</h1>\r\n                            <input\r\n                                type=\"email\"\r\n                                placeholder=\"Email\"\r\n                                name=\"email\"\r\n                                onChange={(e) => {this.handleChange(e.target.name,e.target.value)}}\r\n                                required\r\n                                \r\n                                className=\"input\"\r\n                            />\r\n                            <input\r\n                                type=\"password\"\r\n                                placeholder=\"Hasło\"\r\n                                name=\"password\"\r\n                                onChange={(e) => {this.handleChange(e.target.name,e.target.value)}}\r\n                                required\r\n                                className=\"input\"\r\n                            />\r\n                            {error && <div\r\n                                className=\"error_msg\">{error}</div>}\r\n                            <button \r\n                                className=\"green_btn\"\r\n                                onClick={this.handleSubmit}>\r\n                                Zaloguj się\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"right\">\r\n                        <h1>Nie masz konta?</h1>\r\n\r\n                        <Link to=\"/signup\">\r\n                            <button type=\"button\"\r\n                                className=\"white_btn\"\r\n                                >\r\n                                Zarejestruj się\r\n                            </button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}